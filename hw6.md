# 作业六
[姓名：蔡合森] [学号：2022K8009909004]
**6.1**某系统存在4个进程和5份可分配资源，当前的资源分配情况和最大需求如下表所示。求满足安全状态下X的最小值。请写出解题分析过程。
![alt text](images/image-17.png)
**解**：
满足安全状态下 X 的最小值为 2。
**计算 Need**:
   \[
   Need = Max - Allocation
   \]
   \[
   Need = \begin{bmatrix}
   [5, 5, 2, 5, 5] - [5, 4, 2, 5, 3] \\
   [3, 3, 4, 2, 5] - [3, 1, 3, 2, 5] \\
   [6, 0, 6, 4, 1] - [2, 0, 3, 4, 1] \\
   [10, 2, 4, 6, 11] - [4, 2, 3, 5, 2]
   \end{bmatrix}
   = \begin{bmatrix}
   [0, 1, 0, 0, 2] \\
   [0, 2, 1, 0, 0] \\
   [4, 0, 3, 0, 0] \\
   [6, 0, 1, 1, 9]
   \end{bmatrix}
   \]
当 `x=2` 时候，可以满足`process B`的需求，在其结束之后，释放分配资源，其余后续同理，而且在过程中都能保持安全状态。


**6.2**：两进程A和B各需要数据库中的3份记录1、2、3，若进程A以1、2、3的顺序请求这些资源， 进程B也以同样的顺序请求这些资源，则将不会产生死锁。但若进程B以3、2、1顺序请求这些资源，则可能会产生死锁。这3份资源存在6种可能的请求顺序，其中哪些请求顺序能保证无死锁产生？请写出解题分析过程。
**解**：我们假定A以`1、2、3`的顺序请求资源，对于`B`来说，一共有6种顺序。

1. A: 1, 2, 3 和 B: 1, 2, 3
   - A和B都按顺序请求1、2、3，不会产生死锁。
2. A: 1, 2, 3 和 B: 1, 3, 2
   - A请求1，B请求1，A请求2，B请求3，A请求3，B请求2，不会产生死锁。
3. A: 1, 2, 3 和 B: 2, 1, 3
   - A请求1，B请求2，A请求2（等待），B请求1（等待），产生死锁。
4. A: 1, 2, 3 和 B: 2, 3, 1
   - A请求1，B请求2，A请求2（等待），B请求3，A请求3（等待），B请求1（等待），产生死锁。
5. A: 1, 2, 3 和 B: 3, 1, 2
   - A请求1，B请求3，A请求2，B请求1（等待），A请求3（等待），产生死锁。
6. A: 1, 2, 3 和 B: 3, 2, 1
   - A请求1，B请求3，A请求2，B请求2（等待），A请求3（等待），B请求1（等待），产生死锁。

只有以下请求顺序能保证无死锁产生：
1. A: 1, 2, 3 和 B: 1, 2, 3
2. A: 1, 2, 3 和 B: 1, 3, 2